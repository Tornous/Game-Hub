<!DOCTYPE html>
<html>
<head>
    <title>Account</title>
    <script>
        // Function to set a cookie with a specified name, value, and expiration days
        function setCookie(cname, cvalue, exdays) {
            let d = new Date();
            d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
            let expires = "expires="+d.toUTCString();
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
        }

        // Function to get a cookie by name
        function getCookie(name) {
            var nameEQ = name + "=";
            var ca = document.cookie.split(';');
            for(var i=0;i < ca.length;i++) {
                var c = ca[i];
                while (c.charAt(0)==' ') c = c.substring(1,c.length);
                if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
            }
            return null;
        }

        // Function to check a cookie and prompt the user for a username if not set
        function checkCookie() {
            user = prompt("Please enter your username:", "");
            if (user != "" && user != null) {
                setCookie("username", user, 365);
            }
        }

        // Function to send the user back to the account page
        function code() {
            location.replace("https://lucasgames8957.github.io/programfixes/Account/code.html");
        }

        // Function to display the status (contributor or not)
        function displayStatus(cookieName, trueMessage, falseMessage) {
            var status = getCookie(cookieName);

            if (status === "true") {
                document.getElementById(cookieName + "Status").innerHTML = trueMessage;
            } else {
                document.getElementById(cookieName + "Status").innerHTML = falseMessage;
            }
        }

        // Function to display the contributor status based on the "Contributor" cookie
        function displayContributorStatus() {
            displayStatus("Contributor", "You are a contributor!", "You are not a contributor...");
        }

        // Function to display the username based on the "username" cookie
        function displayUsername() {
            displayStatus("username", "Your current username: " + getCookie("username"), "");
        }
    </script>
</head>
<body onload="displayContributorStatus(); displayUsername();">
    <!-- Button to go home with access key "h" -->
    <button accesskey="h" onclick="page()">Go Home</button>

    <!-- Heading for the account page -->
    <h1>Account</h1>

    <!-- Display the contributor status message here -->
    <p id="ContributorStatus"></p>

    <!-- Display the username message here -->
    <p id="usernameStatus"></p>

    <!-- Button to check and change the username -->
    <button onclick="checkCookie()">Change the username</button>
    
    <!-- Button to navigate to the verification page -->
    <button onclick="code()">Verification</button>
</body>
</html>
